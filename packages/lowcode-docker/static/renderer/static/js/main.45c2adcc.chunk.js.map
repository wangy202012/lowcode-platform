{"version":3,"sources":["api/utils.js","api/index.js","utils/index.js","app.js","index.js"],"names":["url","axios","get","then","res","status","data","Error","getPageContent","appId","localStorage","getItem","utils","getPageContentByPath","appPath","str","JSON","parse","decodeURIComponent","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","unwrapped","error","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","App","_useState","useState","_useState2","_slicedToArray","setData","_useState3","_useState4","local","setLocal","_useState5","_useState6","jsonData","setJsonData","_useState7","_useState8","notPub","setNotPub","schemaData","useRef","URLSearchParams","window","location","search","schema","components","_init","_asyncToGenerator","_callee","pageContent","_pageContentData","_pageContentData$data","pageContentData","_pageContent","packages","projectSchema","componentsMapArray","componentsTree","componentsMap","libraryMap","libraryAsset","assetLoader","_context","code","message","content","Message","component","componentName","_ref","_package","package","library","urls","renderUrls","AssetLoader","load","injectComponents","buildComponents","apply","arguments","init","React","createElement","className","Button","onClick","jsonStr","current","e","setTimeout","AceEditor","mode","theme","onChange","editorProps","$blockScrolling","ReactRenderer","appHelper","requestHandlersMap","fetch","createFetchHandler","moment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.45c2adcc.chunk.js","sourcesContent":["import axios from 'axios'\nconst get = (url)=>{\n    return axios.get(url).then(res=>{\n        if(res.status===200){\n            return res.data\n        }else{\n            throw new Error('返回错误')\n        }\n    })\n}\nconst post = (url,data)=>{\n    return axios.post(url,data).then(res=>{\n        if(res.status===200){\n            return res.data\n        }else{\n            throw new Error('返回错误')\n        }\n    })\n}\n\n\nconst put = (url,data)=>{\n    return axios.put(url,data).then(res=>{\n        if(res.status===200){\n            return res.data\n        }else{\n            throw new Error('返回错误')\n        }\n    })\n}\n\nconst del = (url)=>{\n    return axios.delete(url).then(res=>{\n        if(res.status===200){\n            return res.data\n        }else{\n            throw new Error('返回错误')\n        }\n    })\n}\nexport default {\n    get,\n    post,\n    put,\n    del\n}","import utils from \"./utils\";\n\n\nexport const getPageContent = (appId) => {\n  // react应用配置代理太难，目前使用这种笨方法\n  if (localStorage.getItem('lowcode_mode') === \"dev\") {\n    return utils.get(\"http://43.137.18.227:10061/renderer/\" + appId);\n  }\n  return utils.get(\"/__api/renderer/\" + appId);\n};\n\n\nexport const getPageContentByPath = (appPath) => {\n  // react应用配置代理太难，目前使用这种笨方法\n  if (localStorage.getItem('lowcode_mode') === \"dev\") {\n    return utils.get(\"http://43.137.18.227:10061/renderer/\" + appPath);\n  }\n  return utils.get(\"/__api/renderer/pubPath/\" + appPath);\n};\n","const encodeSchema = (obj)=>{ // obj转字符串\n    return encodeURIComponent(JSON.stringify(obj))\n}\nconst decodeSchema = (str)=>{ // 字符串转obj\n    return JSON.parse(decodeURIComponent(str)) \n}\n\nexport default {\n    encodeSchema,\n    decodeSchema\n}","import ReactRenderer from \"@alilc/lowcode-react-renderer\";\nimport React, { useState, useRef } from \"react\";\nimport { Button, Message, Grid } from \"@alifd/next\";\nimport { createFetchHandler } from \"@alilc/lowcode-datasource-fetch-handler\";\nimport { buildComponents, AssetLoader } from \"@alilc/lowcode-utils\";\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-java\";\nimport \"ace-builds/src-noconflict/theme-github\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\nimport { injectComponents } from \"@alilc/lowcode-plugin-inject\";\nimport { getPageContent, getPageContentByPath } from \"./api/index\";\nimport \"./app.scss\";\nimport utils from \"./utils\";\nimport moment from \"moment\";\nconst App = () => {\n  const [data, setData] = useState({});\n  const [local, setLocal] = useState(false);\n  const [jsonData, setJsonData] = useState({});\n  const [notPub,setNotPub] = useState(false)\n  const schemaData = useRef({});\n\n  const appId = new URLSearchParams(window.location.search).get(\"appId\");\n  const appPath = new URLSearchParams(window.location.search).get(\"appPath\");\n\n  const { schema, components } = data;\n\n  async function init() {\n    let pageContent = null;\n    // 远程获取\n    if (!local) {\n      let pageContentData = null;\n      if (appPath) {\n        pageContentData = await getPageContentByPath(appPath);\n      } else {\n        pageContentData = await getPageContent(appId);\n      }\n      if(pageContentData.code===-1 && pageContentData.message==='当前应用没有发布') {\n        setNotPub(true)\n        return\n      }\n      pageContent = utils.decodeSchema(pageContentData?.data?.content);\n    } else {\n      pageContent = jsonData;\n    }\n\n    const { packages, projectSchema } = pageContent;\n    if (!packages || !projectSchema) {\n      Message.error(\"数据结构异常\");\n      return;\n    }\n    const { componentsMap: componentsMapArray, componentsTree } = projectSchema;\n    const componentsMap = {};\n    componentsMapArray.forEach((component) => {\n      componentsMap[component.componentName] = component;\n    });\n    const schema = componentsTree[0];\n    const libraryMap = {};\n    const libraryAsset = [];\n    packages.forEach(({ package: _package, library, urls, renderUrls }) => {\n      libraryMap[_package] = library;\n      if (renderUrls) {\n        libraryAsset.push(renderUrls);\n      } else if (urls) {\n        libraryAsset.push(urls);\n      }\n    });\n\n    // TODO asset may cause pollution\n    const assetLoader = new AssetLoader();\n    await assetLoader.load(libraryAsset);\n    const components = await injectComponents(\n      buildComponents(libraryMap, componentsMap)\n    );\n    setData({\n      schema,\n      components,\n    });\n  }\n\n  const onChange = (value) => {\n    schemaData.current = value;\n  };\n\n  const confirmJson = () => {\n    const jsonStr = schemaData.current;\n    let jsonData = null;\n    try {\n      jsonData = JSON.parse(jsonStr);\n    } catch (e) {\n      Message.error(\"输入内容不是JSON格式\");\n    }\n    if (jsonData) {\n      // 先设置true，后设置false，保证只触发一次渲染\n      setLocal(true);\n      setTimeout(() => {\n        setLocal(false);\n      }, 0);\n      setJsonData(jsonData);\n    }\n  };\n  if (!schema || !components || local) {\n    init();\n    // return <Loading fullScreen />;\n  }\n  if(notPub){\n    return <div>当前页面未曾发布</div>\n  }\n\n  return (\n    <div className=\"render-container\">\n      {!appId && (\n        <div className=\"render-container-left\">\n          <div className=\"left-title\">\n            <div className=\"label\">数据渲染平台</div>\n            <Button type=\"primary\" onClick={confirmJson}>\n              确认\n            </Button>\n          </div>\n\n          <AceEditor\n            mode=\"javascript\"\n            theme=\"github\"\n            // value={schemaData}\n            onChange={onChange}\n            name=\"UNIQUE_ID_OF_DIV\"\n            editorProps={{ $blockScrolling: true }}\n          />\n          {/* <Input.TextArea>\n      </Input.TextArea> */}\n        </div>\n      )}\n      <div className=\"render-container-content\">\n        <ReactRenderer\n          className=\"lowcode-plugin-sample-preview-content\"\n          schema={schema}\n          components={components}\n          appHelper={{\n            requestHandlersMap: {\n              fetch: createFetchHandler(),\n              Message,\n              moment,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\nimport '@alifd/next/dist/next.css';\nimport \"./global.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}